# WePray - Prayer Tutoring App

## Project Overview
WePray is a Christian prayer tutoring app built with SwiftUI for iOS. It provides AI-powered prayer guidance using Claude API for written chat and OpenAI API for voice prayers.

## Implementation Checklist

### Phase 1: Core Setup (COMPLETED)
- [x] Create SharedTypes.swift with core models
- [x] Create WePrayApp.swift main entry point
- [x] Create ContentView.swift with navigation
- [x] Set up AppState for global state management

### Phase 2: Authentication (COMPLETED)
- [x] Create AuthView.swift with login/signup
- [x] Implement language selection on auth screen
- [x] Implement denomination selection on auth screen
- [x] Auto-redirect to chat after successful login

### Phase 3: Language Selection (COMPLETED)
- [x] Default languages: Brazilian Portuguese, Chinese, English, French, Russian, Spanish (alphabetized)
- [x] Language model with code, name, nativeName, flag
- [x] Custom language addition with permanent storage
- [x] Languages sorted alphabetically in all dropdowns

### Phase 4: Christian Denomination (COMPLETED)
- [x] Default denominations: Anglican, Baptist, Catholic, Lutheran, Methodist, Non-denominational, Orthodox, Pentecostal, Presbyterian, Protestant (alphabetized)
- [x] Duplicate prevention (case-insensitive)
- [x] Custom denomination addition with permanent storage
- [x] Denominations sorted alphabetically in all dropdowns

### Phase 5: Prayer Chat (COMPLETED)
- [x] Create PrayerChatView.swift with chat interface
- [x] Create PrayerChatViewModel.swift with Claude API integration
- [x] Language dropdown on chat page
- [x] Denomination dropdown on chat page
- [x] AI responds in user's native language
- [x] AI responds with cheerful and helpful attitude
- [x] Prayers conform to user's selected denomination

### Phase 6: Voice Prayer (COMPLETED)
- [x] Create VoicePrayerView.swift with voice interface
- [x] Create VoicePrayerViewModel.swift with OpenAI API integration
- [x] Language dropdown on voice page
- [x] Denomination dropdown on voice page
- [x] Voice prayers in user's native language
- [x] Text-to-speech for AI prayer responses

### Phase 7: Admin Panel (COMPLETED)
- [x] Create AdminView.swift with admin interface
- [x] AI API selection for written chat prayers
- [x] AI API selection for voice/audio prayers
- [x] AI API selection for prayer tutor responses
- [x] Language management (view all, add custom)
- [x] Denomination management (view all, add custom)

### Phase 8: Settings (COMPLETED)
- [x] Create SettingsView.swift with user settings
- [x] Language selection in settings
- [x] Denomination selection in settings
- [x] Add custom language option
- [x] Add custom denomination option
- [x] Logout functionality

### Phase 9: Responsive Design (COMPLETED)
- [x] GeometryReader for adaptive layouts
- [x] Auto-sizing to fit user's device screen
- [x] Support for iPhone and iPad
- [x] Portrait and landscape orientations

## File Structure (All under 350 lines)

```
wepray/
├── SharedTypes.swift (350 lines) - Core types, colors, models, PrayerPlan
├── WePrayApp.swift (122 lines) - Main app entry, AppState with isPremium
├── ContentView.swift (97 lines) - Root view, tab navigation with Plans, Devos, Meditate, Journal & Requests tabs
├── AuthView.swift (235 lines) - Login/signup UI
├── LandingPageView.swift (271 lines) - Cinematic landing page
├── BenefitsSection.swift (145 lines) - Cinematic benefits with animations
├── FeaturedPrayersCarousel.swift (252 lines) - Mobile-optimized prayer carousel
├── FeaturedPrayersAdminView.swift (290 lines) - Admin management for prayers
├── FeaturedArticlesCarousel.swift (193 lines) - Mobile-optimized articles carousel
├── FeaturedArticlesAdminView.swift (324 lines) - Admin management for articles
├── PrayerChatView.swift (328 lines) - Chat with action buttons, mic input, premium
├── PrayerChatViewModel.swift (225 lines) - Chat logic, API calls
├── VoicePrayerView.swift (266 lines) - Voice prayer interface
├── VoicePrayerViewModel.swift (310 lines) - Voice logic with GPT-4o, TTS & Realtime
├── OpenAIService.swift (310 lines) - Centralized OpenAI API (GPT-4o, Whisper, TTS)
├── SpeakingPracticeView.swift (280 lines) - Speaking practice UI
├── SpeakingPracticeViewModel.swift (255 lines) - Speaking practice with GPT-4o
├── ListeningPracticeView.swift (285 lines) - Listening practice UI
├── ListeningPracticeViewModel.swift (250 lines) - Listening practice with GPT-4o
├── AdminView.swift (326 lines) - Admin panel with voice mode settings
├── SettingsView.swift (343 lines) - User settings with voice, realtime & notifications
├── NotificationService.swift (348 lines) - Push notifications & prayer plan reminders
├── RealtimeVoiceService.swift (333 lines) - OpenAI Realtime API for low-latency voice
├── PrayerPlanViewModel.swift (155 lines) - Prayer plan management & persistence
├── PrayerPlanListView.swift (301 lines) - Prayer plans list with templates
├── PrayerPlanDetailView.swift (301 lines) - Plan details with calendar view
├── PrayerPlanCreationView.swift (333 lines) - Create custom prayer plans
├── JournalTypes.swift (152 lines) - Scripture & journal data models
├── JournalViewModel.swift (182 lines) - Journal management & persistence
├── JournalListView.swift (298 lines) - Journal list with verse of the day
├── JournalEntryView.swift (281 lines) - Create/edit journal entries
├── JournalComponents.swift (126 lines) - Journal UI components
├── GrowthTrackingView.swift (305 lines) - Growth stats, charts & achievements
├── ScriptureService.swift (131 lines) - Scripture verse service
├── PrayerRequestTypes.swift (203 lines) - Prayer request data models
├── PrayerRequestViewModel.swift (232 lines) - Request management & persistence
├── PrayerRequestListView.swift (319 lines) - Browse & filter prayer requests
├── PrayerRequestDetailView.swift (234 lines) - Request detail & responses
├── PrayerRequestComponents.swift (168 lines) - Prayer request UI components
├── NewPrayerRequestView.swift (265 lines) - Submit new prayer requests
├── MeditationTypes.swift (294 lines) - Meditation session data models
├── MeditationViewModel.swift (224 lines) - Session management with TTS
├── MeditationListView.swift (289 lines) - Browse and filter sessions
├── MeditationPlayerView.swift (268 lines) - Animated meditation player
├── DevotionalTypes.swift (270 lines) - Devotional & reading plan models
├── DevotionalViewModel.swift (185 lines) - Devotional management
├── DevotionalListView.swift (290 lines) - Browse daily devotionals
├── DevotionalDetailView.swift (215 lines) - Read individual devotionals
├── ReadingPlanView.swift (305 lines) - Bible reading plans UI
├── FeedView.swift (204 lines) - Prayer sharing feed with profile nav
├── GroupsView.swift (309 lines) - Community groups with detail view
├── SubscriptionView.swift (287 lines) - Subscription management with Stripe
├── StripeService.swift (300 lines) - Stripe payment & StoreKit integration
├── UserProfileView.swift (224 lines) - User profile & follow system
├── Info.plist - App configuration
└── project-tasks.mdc - This file
```

## Features

### Language Selection
- 6 default languages (alphabetized): Brazilian Portuguese, Chinese, English, French, Russian, Spanish
- Custom languages stored permanently via UserDefaults
- All dropdowns show languages in alphabetical order

### Christian Denomination Selection
- 10 default denominations (alphabetized)
- No duplicates allowed (case-insensitive check)
- Custom denominations stored permanently
- All dropdowns show denominations in alphabetical order

### AI Integration
- Claude API for written chat prayer tutoring (cheerful, helpful attitude)
- OpenAI GPT-4o for voice prayer tutoring (denomination-conforming prayers)
- OpenAI Whisper for speech-to-text transcription
- OpenAI TTS (tts-1-hd) for high-quality voice responses
- 6 voice options: alloy, echo, fable, onyx, nova, shimmer
- Admin can change AI API for each feature:
  - Written chat prayers
  - Voice/audio prayers
  - Prayer tutor responses

### Advanced Voice Mode (GPT-4o)
- **Speaking Practice**: Practice pronouncing prayers with real-time GPT-4o feedback
  - Difficulty levels: Beginner, Intermediate, Advanced
  - Pronunciation scoring (0-100%)
  - Prayer phrases generated by denomination
  - Progress tracking and history
- **Listening Practice**: Comprehension exercises with OpenAI TTS
  - Multiple choice questions
  - Variable playback speeds (0.5x - 1.5x)
  - Accuracy tracking
  - High-quality voice synthesis

### Responsive Design
- Uses GeometryReader for adaptive layouts
- Auto-sizes to fit any device screen
- Supports iPhone and iPad
- Works in portrait and landscape

### Login Flow
- Login/signup with email and password
- Language and denomination selection during auth
- Automatic redirect to chat screen after successful login
- Admin users detected by email pattern

## API Configuration

Set environment variables:
- `OPENAI_API_KEY` - OpenAI API key for voice prayers
- `CLAUDE_API_KEY` - Claude/Anthropic API key for chat
- `DEEPSEEK_API_KEY` - DeepSeek API key (optional)
- `SUPABASE_URL` - Supabase project URL (optional)
- `SUPABASE_ANON_KEY` - Supabase anon key (optional)

## Previous Solutions Applied

From LangTutor project-tasks.mdc:
- Modular component approach (under 350 lines)
- Duplicate prevention patterns (Steps 75-81)
- Type-safe API integration (Steps 72-77)
- Responsive SwiftUI layouts (Steps 78-79)
- UserDefaults for permanent storage

---

## Phase 10: Advanced Voice Mode with GPT-4o (COMPLETED)

### OpenAI Service Integration
- [x] Create OpenAIService.swift - Centralized API module
- [x] Implement Whisper API transcription (speech-to-text)
- [x] Implement OpenAI TTS API (text-to-speech with high-quality voices)
- [x] Implement GPT-4o chat completions for voice responses
- [x] Add audio file caching and management

### Speaking Practice Feature
- [x] Create SpeakingPracticeView.swift - UI for prayer speaking practice
- [x] Create SpeakingPracticeViewModel.swift - Logic with GPT-4o
- [x] Implement real-time pronunciation feedback
- [x] Add prayer phrase suggestions by denomination
- [x] Score and track speaking progress
- [x] Support all 6 languages for speaking practice

### Listening Practice Feature
- [x] Create ListeningPracticeView.swift - UI for listening practice
- [x] Create ListeningPracticeViewModel.swift - Logic with GPT-4o
- [x] Generate prayer audio clips using OpenAI TTS
- [x] Implement comprehension questions
- [x] Track listening progress and scores
- [x] Variable playback speeds

### Voice Prayer Enhancements
- [x] Upgrade VoicePrayerViewModel to use GPT-4o model
- [x] Replace AVSpeechSynthesizer with OpenAI TTS
- [x] Implement real Whisper transcription
- [x] Add voice selection (alloy, echo, fable, onyx, nova, shimmer)
- [x] Add real-time audio streaming support (OpenAI Realtime API)

### Navigation Updates
- [x] Update ContentView with Speaking Practice tab
- [x] Update ContentView with Listening Practice tab
- [x] Add Advanced Voice Mode section in Admin Panel (voice settings, default voice, playback speed)
- [x] Add voice settings in Settings view (voice selection, playback speed)

---

## Phase 11: Cinematic Landing Page with Featured Prayers Carousel (COMPLETED)

### Landing Page Implementation
- [x] Create LandingPageView.swift with cinematic design (adapted from LangTutor)
- [x] Implement CinematicPrayerBackground with animated orbs
- [x] Add floating religious symbols background
- [x] Create logo and title section with gradient styling
- [x] Add Sign In / Sign Up button
- [x] Add Continue as Guest option

### Featured Prayers Carousel
- [x] Create FeaturedPrayersCarousel.swift component
- [x] Implement PrayerCard with gradient backgrounds
- [x] Add swipe gesture navigation
- [x] Auto-scroll timer (5 seconds)
- [x] Carousel indicators
- [x] 5 default featured prayers for different denominations

### Admin Panel - Featured Prayers Management
- [x] Create FeaturedPrayersAdminView.swift
- [x] Add/Edit/Delete featured prayers
- [x] Toggle prayer visibility (active/inactive)
- [x] Drag to reorder prayers
- [x] Color picker for gradient customization
- [x] Icon selection for prayer cards

### Data Models
- [x] Add FeaturedPrayer model to SharedTypes.swift
- [x] Include default prayers (Lord's Prayer, Jesus Prayer, Hail Mary, etc.)
- [x] Store featured prayers in AdminSettings

### Navigation Flow
- [x] Update ContentView to show LandingPageView first
- [x] AuthView accessible via Sign In button
- [x] Guest mode bypasses authentication

---

## Phase 13: Cinematic Home Screen Enhancement (COMPLETED)

### Cinematic BenefitsSection
- [x] Enhanced with staggered card entrance animations
- [x] Added gradient title with shadow effects
- [x] Horizontal scrolling cards for mobile optimization
- [x] Scale animations on tap with haptic feedback
- [x] Glow shadow effects on benefit cards

### Featured Articles Carousel
- [x] Expanded from 5 to 10 default articles
- [x] Added haptic feedback on swipe and navigation
- [x] Improved swipe sensitivity with predictedEndTranslation
- [x] Tappable indicators with haptic response
- [x] Navigation arrows optimized for mobile

### Featured Prayers Carousel
- [x] Added navigation arrows for mobile
- [x] Haptic feedback on swipe gestures
- [x] Tappable indicators for direct navigation
- [x] Improved swipe gesture sensitivity
- [x] Timer management with proper cleanup

### Admin Panel Enhancement
- [x] Featured Articles tab in admin panel
- [x] Add/Edit/Delete featured articles
- [x] Toggle article visibility (active/inactive)
- [x] Drag to reorder articles
- [x] Color picker and icon selection

### Bug Fixes
- [x] Removed duplicate `toHex()` function from `FeaturedPrayersAdminView.swift` (defined in `SharedTypes.swift`)
- [x] Merged Swift files into WePray/WePray Xcode project folder
- [x] Lowered iOS deployment target from 18.4 to 17.0
- [x] Fixed nil dictionary value error in `SpeakingPracticeViewModel.swift` (changed to `[String: String?]`)
- [x] Condensed `OpenAIService.swift` from 361 to 349 lines
- [x] Renamed `StatItem` to `ProfileStatItem` in UserProfileView.swift (conflict with SpeakingPracticeView.StatItem)
- [x] Fixed ternary type mismatch (Color vs LinearGradient) in UserProfileView.swift using Group/if-else
- [x] Updated `onChange(of:perform:)` to iOS 17+ syntax in PrayerChatView.swift and VoicePrayerView.swift
- [x] Fixed unused variable warning in ListeningPracticeView.swift (changed `if let prayer` to boolean test)
- [x] Fixed extraneous '}' syntax error in SubscriptionView.swift (removed premature ZStack closure at line 139)
- [x] Fixed UUID/String type mismatch in NewPrayerRequestView.swift (use `.uuidString` for `currentUser?.id`)
- [x] Fixed missing 'name' member in NewPrayerRequestView.swift (use `displayName` instead of `name`)
- [x] Fixed UUID/String comparison in PrayerRequestDetailView.swift line 127 (use `.uuidString`)
- [x] Fixed same issues in PrayerRequestDetailView.swift lines 216-217
- [x] Renamed `StatItem` to `PrayerStatItem` in PrayerRequestListView.swift (conflict with SpeakingPracticeView.StatItem)

### Prayer Carousel Content
- [x] Added 5 established prayers: Prayer of St. Francis, Gloria Patri, Apostles' Creed, Act of Contrition, Magnificat
- [x] Total prayers in carousel: 10 (5 original + 5 new)

### Cinematic Navy Blue Theme
- [x] Updated AppColors to cinematic navy blue palette (dark background #0F172A)
- [x] Updated all 10 prayer card gradients to navy/blue variations
- [x] Updated all 10 article card gradients to navy/blue variations
- [x] Updated 4 benefit card gradients to navy/blue variations
- [x] Light text colors for dark background contrast

---

## Phase 12: Social Features from Prayer Repository (COMPLETED)

### User Feed
- [x] Create FeedView.swift for prayer sharing (195 lines)
- [x] Implement post creation and display
- [x] Add like functionality with heart icon
- [x] Implement follow/unfollow system

### User Profile
- [x] Create UserProfileView.swift (224 lines)
- [x] UserProfileData model with stats
- [x] Profile header with avatar, name, bio
- [x] Stats row (Prayers, Followers, Following)
- [x] Follow/Unfollow button with toggle
- [x] User's prayer posts section
- [x] Navigation from Feed to User Profiles (tap author name)

### Prayer Groups
- [x] Create GroupsView.swift for community groups (309 lines)
- [x] Implement group creation sheet
- [x] Add join/leave group functionality
- [x] My Groups horizontal scroll section
- [x] Group-specific prayer posts with GroupDetailView
- [x] Navigate to group detail on tap
- [x] Post prayers within groups

### Subscription System
- [x] Integrate Stripe for payments
- [x] Create StripeService.swift (300 lines) - Payment handling with StoreKit
- [x] Create SubscriptionView.swift (287 lines) - With Stripe integration
- [x] Implement tier-based features (Free/Standard/Premium)
- [x] Add subscription card UI with features list
- [x] Current plan indicator
- [x] Payment processing with error handling and loading states

### Tab Navigation Update
- [x] Updated ContentView tabs: Pray, Feed, Groups, Voice, Settings
- [x] Integrated FeedView and GroupsView into main navigation

### Social Features Summary
- User Feed: Post creation, likes, profile navigation
- User Profiles: Follow/unfollow, stats, user prayers
- Prayer Groups: Create, join/leave, group-specific posts
- Subscriptions: 3-tier system with Stripe payment integration

---

## Phase 14: Prayer Chat Enhancements (COMPLETED)

### Chat Message Actions
- [x] Add copy button to AI response bubbles
- [x] Add share button to AI response bubbles
- [x] Add play audio button (Premium feature)
- [x] Enable text selection for manual copy/paste (.textSelection(.enabled))

### Voice Input
- [x] Add microphone button for voice input in chat
- [x] Lock voice input behind Premium subscription
- [x] Visual feedback for recording state

### Premium Features
- [x] Add isPremium state to AppState
- [x] Add Premium toggle in navigation bar (crown icon)
- [x] Show alert when non-premium user tries audio features
- [x] Premium users see enabled audio/mic buttons

### File Updates
- PrayerChatView.swift (328 lines) - Chat with action buttons and mic input
- WePrayApp.swift (122 lines) - Added isPremium state

---

## Phase 15: Real-time Audio Streaming (COMPLETED)

### OpenAI Realtime API Integration
- [x] Create RealtimeVoiceService.swift (333 lines)
- [x] Implement WebSocket connection to OpenAI Realtime API
- [x] Audio format: PCM16, 24kHz, mono, little-endian
- [x] Server-side Voice Activity Detection (VAD)
- [x] Real-time audio streaming (~300ms latency)

### Voice Prayer Realtime Mode
- [x] Add realtimeVoiceEnabled to UserProfile
- [x] Update VoicePrayerViewModel with realtime mode support
- [x] Toggle between standard and realtime modes
- [x] Auto-connect when realtime mode enabled

### Settings Integration
- [x] Add Real-time Voice toggle in Settings
- [x] Updated footer text explaining latency benefits

### Architecture
- WebSocket URL: wss://api.openai.com/v1/realtime?model=gpt-4o-realtime-preview
- Input/Output: Base64-encoded PCM16 audio chunks
- Transcription: Built-in Whisper-1 transcription
- Turn Detection: Server VAD with 500ms silence threshold

---

## Phase 16: Notifications & Reminders (COMPLETED)

### Notification Service
- [x] Create NotificationService.swift (332 lines)
- [x] PrayerNotificationType enum with 7 notification types
- [x] PrayerReminder model with repeat days support
- [x] AppNotification model for in-app notifications
- [x] NotificationSettings model for user preferences

### Push Notifications
- [x] UNUserNotificationCenter integration
- [x] Request notification authorization
- [x] Schedule daily prayer reminders
- [x] Schedule repeating reminders by day of week
- [x] Cancel notifications when disabled

### Settings Integration
- [x] Add Notifications section to SettingsView (343 lines)
- [x] Daily prayer reminder toggle with time picker
- [x] Group notifications toggle
- [x] Social notifications toggle
- [x] Sound toggle

### Notification Types Supported
- Prayer reminders (customizable time and days)
- Daily prayer (morning reminder)
- Group events
- New followers
- Post likes
- Group posts
- General announcements

---

## Phase 17: Personalized Prayer Plans (COMPLETED)

### Prayer Plan Feature
- [x] Add PrayerPlan model to SharedTypes.swift with themes and frequency
- [x] Create PrayerPlanViewModel.swift for plan management and persistence
- [x] Create PrayerPlanListView.swift with active plan card and plan list
- [x] Create PrayerPlanDetailView.swift with progress tracking and calendar
- [x] Create PrayerPlanCreationView.swift with theme selection and scheduling

### Data Models
- [x] PrayerFrequency enum (daily, weekly, custom)
- [x] PrayerTheme enum (gratitude, healing, forgiveness, guidance, peace, strength, family, protection)
- [x] PrayerPlan struct with progress tracking and completion calendar
- [x] 4 pre-defined prayer plan templates

### UI Components
- [x] ActivePlanCard with progress bar and streak counter
- [x] PlanRowCard for plan list display
- [x] TemplatesSheet for quick plan creation
- [x] ThemeSelectionButton for multi-theme selection
- [x] DurationChip for selecting plan length
- [x] FlowLayout for dynamic theme chips

### Integration
- [x] Added "Plans" tab to ContentView navigation
- [x] Added prayerPlan notification type to NotificationService
- [x] Prayer plan reminder scheduling with cancelation support

### File Structure Updates
- PrayerPlanViewModel.swift (155 lines)
- PrayerPlanListView.swift (301 lines)
- PrayerPlanDetailView.swift (301 lines)
- PrayerPlanCreationView.swift (333 lines)
- SharedTypes.swift (350 lines) - Added PrayerPlan model
- ContentView.swift (77 lines) - Added Plans tab
- NotificationService.swift (348 lines) - Added prayer plan notifications

---

## Phase 18: Prayer Journal with Scripture Integration (COMPLETED)

### Journal Feature
- [x] Create JournalTypes.swift with data models (ScriptureVerse, JournalEntry, JournalMood, JournalTag)
- [x] Create JournalViewModel.swift for journal management and persistence
- [x] Create JournalListView.swift with verse of the day, stats, and entries list
- [x] Create JournalEntryView.swift for creating/editing journal entries
- [x] Create JournalComponents.swift with reusable UI components (MoodButton, TagChip, VersePicker)
- [x] Create GrowthTrackingView.swift with stats, charts, and achievements
- [x] Create ScriptureService.swift for verse management and favorites

### Data Models
- [x] ScriptureVerse with 30 predefined verses (ESV)
- [x] JournalEntry with verse, reflection, prayer, gratitude, mood, tags, rating
- [x] JournalMood enum (8 moods: grateful, peaceful, hopeful, joyful, reflective, anxious, struggling, seeking)
- [x] JournalTag enum (8 tags: prayer, praise, confession, thanksgiving, intercession, worship, healing, guidance)
- [x] ReflectionPrompt with 8 guided prompts
- [x] GrowthStats for tracking progress

### UI Components
- [x] Verse of the Day card with favorite toggle
- [x] Quick stats row (entries, streak, avg rating)
- [x] Today's entry card or create button
- [x] Journal entry list with mood icons and date
- [x] Growth tracking with iOS 16+ Charts support
- [x] Mood distribution visualization
- [x] Monthly activity circles
- [x] Achievement badges (6 unlockable badges)

### Integration
- [x] Added "Journal" tab to ContentView navigation
- [x] Verse picker with favorites and search
- [x] Export journal entries to text format

### File Structure Updates
- JournalTypes.swift (152 lines)
- JournalViewModel.swift (182 lines)
- JournalListView.swift (298 lines)
- JournalEntryView.swift (281 lines)
- JournalComponents.swift (126 lines)
- GrowthTrackingView.swift (305 lines)
- ScriptureService.swift (131 lines)
- ContentView.swift (82 lines) - Added Journal tab

---

## Phase 19: Prayer Request Community (COMPLETED)

### Prayer Request Feature
- [x] Create PrayerRequestTypes.swift with data models (PrayerRequest, PrayerResponse, Categories, Urgency)
- [x] Create PrayerRequestViewModel.swift for request management and persistence
- [x] Create PrayerRequestListView.swift for browsing and filtering requests
- [x] Create PrayerRequestDetailView.swift for viewing requests and responses
- [x] Create NewPrayerRequestView.swift for submitting prayer requests
- [x] Create PrayerRequestComponents.swift with reusable UI components

### Data Models
- [x] PrayerRequest with title, description, category, urgency, anonymous option
- [x] PrayerRequestCategory enum (11 categories: health, family, relationships, financial, career, spiritual, grief, anxiety, guidance, thanksgiving, other)
- [x] PrayerUrgency enum (4 levels: ongoing, important, urgent, critical)
- [x] PrayerResponse for community encouragement messages
- [x] PrayerWarriorStats for tracking prayer activity
- [x] PrayerWarriorLevel enum (5 levels: beginner, faithful, devoted, warrior, intercessor)

### UI Components
- [x] Prayer Warrior stats card with level badge
- [x] Filter bar (all, recent, urgent, answered, my requests)
- [x] Sort options (newest, oldest, most prayed, urgency)
- [x] Category horizontal scroll filter
- [x] Prayer request cards with pray button
- [x] Prayer detail view with responses
- [x] Testimony sheet for marking answered prayers
- [x] Prayer Warrior stats view with achievements

### Features
- [x] Submit anonymous or named prayer requests
- [x] Pray for requests (tracked with counts)
- [x] Send encouragement responses
- [x] Mark prayers as answered with testimony
- [x] Prayer streak tracking
- [x] Category-based filtering
- [x] Request expiration (7, 14, 30 days or indefinite)
- [x] Sample prayer requests for new users

### Integration
- [x] Added "Requests" tab to ContentView navigation
- [x] Prayer warrior leveling system
- [x] Streak tracking for daily prayers

### File Structure Updates
- PrayerRequestTypes.swift (203 lines)
- PrayerRequestViewModel.swift (232 lines)
- PrayerRequestListView.swift (319 lines)
- PrayerRequestDetailView.swift (234 lines)
- PrayerRequestComponents.swift (168 lines)
- NewPrayerRequestView.swift (265 lines)
- ContentView.swift (87 lines) - Added Requests tab

---

## Phase 20: Guided Meditation & Prayer Sessions (COMPLETED)

### Meditation Session Feature
- [x] Create MeditationTypes.swift with data models (MeditationSession, Category, Difficulty, Music)
- [x] Create MeditationViewModel.swift for session management with AVSpeechSynthesizer
- [x] Create MeditationListView.swift for browsing and filtering sessions
- [x] Create MeditationPlayerView.swift with animated player UI

### Data Models
- [x] MeditationSession with title, description, duration, category, difficulty, script, music
- [x] MeditationCategory enum (10 categories: morning, evening, peace, gratitude, healing, forgiveness, strength, guidance, sleep, stress)
- [x] MeditationDifficulty enum (3 levels: beginner, intermediate, advanced)
- [x] MeditationMusic enum (6 options: silence, nature, piano, ambient, choral, bells)
- [x] MeditationProgress for tracking stats, streaks, and weekly goals
- [x] PlayerState enum (idle, loading, playing, paused, completed)

### UI Components
- [x] Progress card with weekly goal, streak, and stats
- [x] Category filter horizontal scroll
- [x] Recent sessions "Continue" section
- [x] Session list with favorite toggle
- [x] Animated player with pulsing circles
- [x] Timer display with progress bar
- [x] Play/Pause/Stop controls
- [x] Script view sheet for reading along
- [x] Music indicator badge

### Features
- [x] 5 default meditation sessions (Morning Gratitude, Evening Peace, Finding Inner Peace, Healing Prayer, Strength for Today)
- [x] Text-to-speech with AVSpeechSynthesizer for guided narration
- [x] Session favorites with persistence
- [x] Completion tracking and stats
- [x] Streak calculation with longest streak tracking
- [x] Weekly progress with configurable goal (default 30 min)
- [x] Category-based filtering
- [x] Search functionality
- [x] Session timer with auto-complete

### Integration
- [x] Added "Meditate" tab to ContentView navigation
- [x] Category colors and icons for visual distinction
- [x] Background music indicator (placeholder for future audio)

### File Structure Updates
- MeditationTypes.swift (294 lines)
- MeditationViewModel.swift (224 lines)
- MeditationListView.swift (289 lines)
- MeditationPlayerView.swift (268 lines)
- ContentView.swift (92 lines) - Added Meditate tab

---

## Phase 21: Daily Devotionals & Bible Reading Plans (COMPLETED)

### Devotional Feature
- [x] Create DevotionalTypes.swift with data models (DailyDevotional, ScriptureReference, ReadingPlan)
- [x] Create DevotionalViewModel.swift for devotional and reading plan management
- [x] Create DevotionalListView.swift for browsing daily devotionals
- [x] Create DevotionalDetailView.swift for reading individual devotionals
- [x] Create ReadingPlanView.swift for Bible reading plans

### Data Models
- [x] DailyDevotional with title, scripture, reflection, prayer, application, author, category
- [x] ScriptureReference with book, chapter, verse range, and text
- [x] DevotionalCategory enum (10 categories: faith, hope, love, peace, wisdom, strength, gratitude, forgiveness, purpose, prayer)
- [x] ReadingPlan with title, description, duration, category, and daily readings
- [x] DailyReading with day number, title, passages, completion status
- [x] PlanCategory enum (8 categories: beginner, gospels, psalms, newTestament, oldTestament, wholeBible, topical, seasonal)
- [x] DevotionalProgress for tracking stats, streaks, and notes

### UI Components
- [x] Today's Devotional highlight card
- [x] Active reading plan progress card
- [x] Stats row (read count, streak, notes, saved)
- [x] Category filter horizontal scroll
- [x] Devotional list with favorites and read status
- [x] Devotional detail with scripture, reflection, prayer, application sections
- [x] Notes section with TextEditor
- [x] Reading plan cards with progress bars
- [x] Plan detail sheet with daily readings checklist
- [x] Share functionality for devotionals

### Features
- [x] 3 sample daily devotionals (Walking in Faith, The Gift of Peace, Strength in Weakness)
- [x] 3 default reading plans (7 Days of Psalms, Gospel of John, 30 Days of Proverbs)
- [x] Mark devotionals as read with streak tracking
- [x] Favorite devotionals for quick access
- [x] Personal notes on devotionals
- [x] Start/abandon reading plans
- [x] Track daily reading completion
- [x] Category-based filtering
- [x] Search functionality

### Integration
- [x] Added "Devos" tab to ContentView navigation
- [x] Category colors and icons for visual distinction
- [x] Share devotionals via ShareLink

### File Structure Updates
- DevotionalTypes.swift (270 lines)
- DevotionalViewModel.swift (185 lines)
- DevotionalListView.swift (290 lines)
- DevotionalDetailView.swift (215 lines)
- ReadingPlanView.swift (305 lines)
- ContentView.swift (97 lines) - Added Devos tab

---

## Phase 22: Scripture Memory (COMPLETED)

### Scripture Memory Feature
- [x] Create ScriptureMemoryTypes.swift with data models (MemoryVerse, VerseCategory, MasteryLevel)
- [x] Create ScriptureMemoryViewModel.swift for scripture memory management
- [x] Create ScriptureMemoryView.swift for browsing and managing scripture verses
- [x] Create ScriptureMemoryComponents.swift for reusable UI components
- [x] Create VerseDetailView.swift for viewing verse details and notes

### Practice Modes
- [x] Create FlashcardPracticeView.swift - flashcard-style memorization with swipe gestures
- [x] Create TypeVersePracticeView.swift - type verse from memory practice
- [x] Create FillBlanksPracticeView.swift - fill in the blanks practice with FlowLayout
- [x] Create ScriptureListeningPracticeView.swift - audio listening practice with speech synthesis
- [x] Create AddVerseView.swift - add new verses with preset selection

### Data Models
- [x] MemoryVerse with reference, text, translation, category, difficulty, mastery level, review tracking
- [x] VerseCategory enum (10 categories: faith, hope, love, peace, wisdom, strength, gratitude, forgiveness, purpose, encouragement)
- [x] VerseDifficulty enum (easy, medium, hard) with word limits
- [x] MasteryLevel enum (new, learning, memorizing, mastered) with review intervals
- [x] ReviewSession for tracking session stats
- [x] MemoryProgress for tracking overall progress, streaks, accuracy

### UI Components
- [x] Progress card showing memorization stats and streak
- [x] Review section with due verses carousel
- [x] Practice mode cards for all 4 practice types
- [x] Category filter horizontal scroll
- [x] Verse cards with mastery level indicators
- [x] Flashcard flip animation with 3D rotation
- [x] Swipe gestures for flashcard navigation

### Features
- [x] Spaced repetition algorithm for review scheduling
- [x] 5 default scripture verses (John 3:16, Philippians 4:13, Jeremiah 29:11, Proverbs 3:5-6, Romans 8:28)
- [x] Add new scripture verses manually or from presets
- [x] Track verse mastery levels (new, learning, memorizing, mastered)
- [x] Category-based filtering
- [x] Search functionality
- [x] Favorite verses
- [x] Personal notes per verse
- [x] Session results with accuracy tracking
- [x] Streak tracking for consistent practice

### Integration
- [x] Added "Memory" tab to ContentView navigation (tag 3)
- [x] Category colors and icons for visual distinction
- [x] Text-to-speech for listening practice

### File Structure Updates
- ScriptureMemoryTypes.swift (277 lines)
- ScriptureMemoryViewModel.swift (203 lines)
- ScriptureMemoryView.swift (304 lines)
- ScriptureMemoryComponents.swift (243 lines)
- VerseDetailView.swift (159 lines)
- FlashcardPracticeView.swift (314 lines)
- TypeVersePracticeView.swift (312 lines)
- FillBlanksPracticeView.swift (317 lines)
- ScriptureListeningPracticeView.swift (328 lines)
- AddVerseView.swift (293 lines)
- ContentView.swift (102 lines) - Added Memory tab

---

## Phase 23: Community Prayer Circles (COMPLETED)

### Prayer Circle Feature
- [x] Create PrayerCircleTypes.swift with data models (PrayerCircle, CircleMeeting, CirclePrayerRequest)
- [x] Create PrayerCircleViewModel.swift for circle management
- [x] Create PrayerCircleListView.swift for browsing and discovering circles
- [x] Create PrayerCircleDetailView.swift for circle details, meetings, and requests
- [x] Create PrayerCircleComponents.swift for reusable UI components
- [x] Create CreatePrayerCircleView.swift for creating new circles
- [x] Create ScheduleMeetingView.swift for scheduling virtual meetings
- [x] Create AddPrayerRequestView.swift for submitting prayer requests

### Data Models
- [x] PrayerCircle with name, description, category, members, meetings, requests
- [x] CircleCategory enum (10 categories: family, healing, career, relationships, faith, community, youth, seniors, missions, gratitude)
- [x] CircleMeeting with title, date, duration, link, recurrence, attendees
- [x] RecurrenceType enum (daily, weekly, bi-weekly, monthly)
- [x] CirclePrayerRequest with author, content, status, prayer count, urgency
- [x] RequestStatus enum (active, answered, ongoing)
- [x] CircleMember with name, role, prayer count
- [x] MemberRole enum (leader, moderator, member)

### UI Components
- [x] Upcoming meetings carousel with video call integration
- [x] My circles horizontal scroll section
- [x] Category filter chips for circle discovery
- [x] Circle cards with gradient icons and join buttons
- [x] Meeting scheduling with date picker and recurrence options
- [x] Prayer request cards with urgency indicators
- [x] Member cards with role badges
- [x] Tab selector for requests/members views

### Features
- [x] Create and join prayer circles
- [x] Schedule recurring virtual meetings with video call links
- [x] Submit and respond to prayer requests within circles
- [x] Mark requests as prayed for with prayer count tracking
- [x] Request status tracking (active, answered, ongoing)
- [x] Urgency marking for time-sensitive requests
- [x] Member management with roles (leader, moderator, member)
- [x] Category-based filtering and search
- [x] Private/public circle options

### Integration
- [x] Added Prayer Circles navigation link to GroupsView
- [x] Circle category colors and icons for visual distinction
- [x] Video call link integration for meetings

### File Structure Updates
- PrayerCircleTypes.swift (321 lines)
- PrayerCircleViewModel.swift (191 lines)
- PrayerCircleListView.swift (173 lines)
- PrayerCircleDetailView.swift (273 lines)
- PrayerCircleComponents.swift (345 lines)
- CreatePrayerCircleView.swift (219 lines)
- ScheduleMeetingView.swift (227 lines)
- AddPrayerRequestView.swift (197 lines)
- GroupsView.swift - Added Prayer Circles section

---

## Build Instructions

1. Open wepray folder in Xcode
2. Create new iOS App project named "WePray"
3. Replace generated files with these Swift files
4. Set deployment target to iOS 17+
5. Add microphone and speech recognition permissions
6. Set API keys in environment variables or update AppConfig
7. Add Stripe iOS SDK via Swift Package Manager:
   - File > Add Package Dependencies
   - URL: https://github.com/stripe/stripe-ios
   - Add StripePaymentSheet package
8. Configure Stripe:
   - Update StripeConfig in StripeService.swift with your keys
   - Set up backend endpoints for payment processing
9. Build and run
